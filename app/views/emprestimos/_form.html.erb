<%= form_with(model: emprestimo) do |form| %>
  <% if emprestimo.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(emprestimo.errors.count, "error") %> prohibited this emprestimo from being saved:</h2>
      <ul>
        <% emprestimo.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= form.label :copia_filme_id, "Selecione o Filme" %>
    <%# Note o uso de @copias_disponiveis que definimos no controller %>
    <%= form.collection_select :copia_filme_id, @copias_disponiveis, :id, :id_do_filme_e_midia, { prompt: "Selecione uma cópia" } %>
    <%# Você precisará criar um método em `copia_filme.rb` chamado `id_do_filme_e_midia` para mostrar um nome bonito no dropdown, ex: "Filme Exemplo (DVD)" %>
  </div>

  <div>
    <%= form.submit "Alugar Filme" %>
  </div>
<% end %>